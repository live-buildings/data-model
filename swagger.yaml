---
openapi: "3.0.3"
info:
  description: |
    LiveBuildings data model
  title: LiveBuildings data model
  version: "0.0.1"

components:
  schemas:
    CrossDomain:
      description: Some cross-domain properties.
      x-ngsi:
        uri: https://live-buildings.github.io/data-model/none
      properties:
        dataProvider:
          description: A sequence of characters identifying the provider of the harmonised data entity.
          type: string
          x-ngsi:
            uri: https://smart-data-models.github.io/data-models/terms.jsonld#/definitions/dataProvider
            type: Property
        source:
          description: A sequence of characters giving the original source of the entity data as a URL. Recommended to be the fully qualified domain name of the source provider, or the URL to the source object.
          type: string
          x-ngsi:
            uri: https://smart-data-models.github.io/data-models/terms.jsonld#/definitions/source
            type: Property
        additionalProperty:
          description: A property-value pair representing an additional characteristic of the entity, e.g. a product feature or another characteristic for which there is no matching property.
          type: string
          x-ngsi:
            uri: https://schema.org/additionalProperty
            type: Property

    Zone:
      description: 'A part of the physical world or a virtual world that is inherently both located in this world and has a 3D spatial extent; Sub-classes of bot:Zone include bot:Site, bot:Building, bot:Storey, or bot:Space. An instance of bot:Zone can contain other bot:Zone instances, making it possible to group or subdivide zones. An instance of bot:Zone can be adjacent to or intersecting other bot:Zone instances.'
      x-lb-terms:
        enabled: true
      x-ngsi:
        uri: https://w3id.org/bot#Zone
        uri-prefix: https://w3id.org/bot#
      properties:
        capacity:
          description: A test property.
          type: string
          x-lb-terms:
            enabled: true
          x-ngsi:
            uri: https://live-buildings.github.io/data-model/terms#Zone.capacity
            uri-prefix: https://live-buildings.github.io/data-model/terms#Zone.
            type: Property

    PostalAddress:
      description: The mailing address of the item
      type: object
      x-lb-terms:
        enabled: true
      x-ngsi:
        uri: https://schema.org/PostalAddress
        uri-prefix: https://schema.org/
        model: https://schema.org/address
        type: Property
      properties:
        addressCountry:
          description: 'Property. The country. For example, Spain. Model:''https://schema.org/addressCountry''. In french: ''Pays'''
          type: string
        addressRegion:
          description: 'Property. The region in which the department is, and which is in the country. Model:''https://schema.org/addressRegion''. In french: ''Region'''
          type: string
        addressDepartment:
          description: 'Property. The department in which the locality is, and which is in the region. In french: ''Departement'''
          type: string
          x-lb-terms:
            enabled: true
          x-ngsi:
            uri: https://live-buildings.github.io/data-model/terms#addressDepartment
            uri-prefix: https://live-buildings.github.io/data-model/terms#
        addressLocality:
          description: 'Property. The locality in which the street address is, and which is in the region. Model:''https://schema.org/addressLocality''. In french: ''Commune'''
          type: string
        postOfficeBoxNumber:
          description: 'Property. The post office box number for PO box addresses. For example, 03578. Model:''https://schema.org/postOfficeBoxNumber'''
          type: string
        postalCode:
          description: 'Property. The postal code. For example, 24004. Model:''https://schema.org/https://schema.org/postalCode''. In french: ''Code Postal'''
          type: string
        streetAddress:
          description: 'Property. The street address. Model:''https://schema.org/streetAddress''. In french: ''Numero et rue'''
          type: string

    ContainedIn:
      description: The basic containment relation between a place and one that contains it.
      type: object
      x-lb-terms:
        enabled: true
      x-ngsi:
        uri: https://schema.org/containedIn
        uri-prefix: https://schema.org/
        model: https://schema.org/containedIn
        type: Property
      properties:
        country:
          description: 'Relationship. The country the item is contained in. For example: "urn:AdministrativeArea:Country:FR". Model:''https://schema.org/country''.'
          type: string
        countrySubdivision:
          description: 'Relationship. One or several (an array of) administrative subdivision of a Country the item is contained in. E.g: "urn:AdministrativeArea:CountrySubdivision:FR:FranceEntiere"'
          type: string
          x-lb-terms:
            enabled: true
          x-ngsi:
            uri: https://live-buildings.github.io/data-model/terms#countrySubdivision
            uri-prefix: https://live-buildings.github.io/data-model/terms#
        region:
          description: 'Relationship. The region the item is contained in. Typically, a region contains a department, and is contained in a country and/or some countrySubdivision(s). Model:''https://schema.org/addressRegion''.'
          type: string
          x-lb-terms:
            enabled: true
          x-ngsi:
            uri: https://live-buildings.github.io/data-model/terms#region
            uri-prefix: https://live-buildings.github.io/data-model/terms#
        department:
          description: 'Relationship. The department the item is contained in. Typically, a department contains a locality and is contained in a region.'
          type: string
          x-lb-terms:
            enabled: true
          x-ngsi:
            uri: https://live-buildings.github.io/data-model/terms#department
            uri-prefix: https://live-buildings.github.io/data-model/terms#
        locality:
          description: 'Relationship. The locality the item is contained in. Typically, a locality contains streets and sites, and is contained in a department. In french: ''Commune'''
          type: string
          x-lb-terms:
            enabled: true
          x-ngsi:
            uri: https://live-buildings.github.io/data-model/terms#locality
            uri-prefix: https://live-buildings.github.io/data-model/terms#
        site:
          description: 'Relationship. The bot:Site(s) the item is contained in'
          type: string
          x-ngsi:
            uri: https://live-buildings.github.io/data-model/terms#site
            uri-prefix: https://live-buildings.github.io/data-model/terms#
        building:
          description: 'Relationship. The Building the item is contained in'
          type: string
          x-ngsi:
            uri: https://live-buildings.github.io/data-model/terms#building
            uri-prefix: https://live-buildings.github.io/data-model/terms#
        storey:
          description: 'Relationship. The Storey or Floor the item is contained in'
          type: string
          x-ngsi:
            uri: https://live-buildings.github.io/data-model/terms#storey
            uri-prefix: https://live-buildings.github.io/data-model/terms#
        territorialRealEstateDivision:
          description: 'Relationship. The territotial real-estate division or department the item is contained in. This is typically a company internal administrative area. E.g: "urn:AdministrativeArea:orange:dit:IDF"'
          type: string
          x-lb-terms:
            enabled: true
          x-ngsi:
            uri: https://live-buildings.github.io/data-model/terms#territorialRealEstateDivision
            uri-prefix: https://live-buildings.github.io/data-model/terms#

    Location:
      description: 'Geojson reference to the item. It can be Point, LineString, Polygon, MultiPoint, MultiLineString or MultiPolygon'
      x-ngsi:
        uri: https://uri.etsi.org/ngsi-ld/location
        type: GeoProperty
      oneOf:
        - description: GeoProperty. Geojson reference to the item. Point
          properties:
            bbox:
              items:
                type: number
              minItems: 4
              type: array
            coordinates:
              items:
                type: number
              minItems: 2
              type: array
            type:
              enum:
                - Point
              type: string
          required:
            - type
            - coordinates
          title: GeoJSON Point
          type: object
        - description: GeoProperty. Geojson reference to the item. LineString
          properties:
            bbox:
              items:
                type: number
              minItems: 4
              type: array
            coordinates:
              items:
                items:
                  type: number
                minItems: 2
                type: array
              minItems: 2
              type: array
            type:
              enum:
                - LineString
              type: string
          required:
            - type
            - coordinates
          title: GeoJSON LineString
          type: object
        - description: GeoProperty. Geojson reference to the item. Polygon
          properties:
            bbox:
              items:
                type: number
              minItems: 4
              type: array
            coordinates:
              items:
                items:
                  items:
                    type: number
                  minItems: 2
                  type: array
                minItems: 4
                type: array
              type: array
            type:
              enum:
                - Polygon
              type: string
          required:
            - type
            - coordinates
          title: GeoJSON Polygon
          type: object
        - description: GeoProperty. Geojson reference to the item. MultiPoint
          properties:
            bbox:
              items:
                type: number
              minItems: 4
              type: array
            coordinates:
              items:
                items:
                  type: number
                minItems: 2
                type: array
              type: array
            type:
              enum:
                - MultiPoint
              type: string
          required:
            - type
            - coordinates
          title: GeoJSON MultiPoint
          type: object
        - description: GeoProperty. Geojson reference to the item. MultiLineString
          properties:
            bbox:
              items:
                type: number
              minItems: 4
              type: array
            coordinates:
              items:
                items:
                  items:
                    type: number
                  minItems: 2
                  type: array
                minItems: 2
                type: array
              type: array
            type:
              enum:
                - MultiLineString
              type: string
          required:
            - type
            - coordinates
          title: GeoJSON MultiLineString
          type: object
        - description: GeoProperty. Geojson reference to the item. MultiLineString
          properties:
            bbox:
              items:
                type: number
              minItems: 4
              type: array
            coordinates:
              items:
                items:
                  items:
                    items:
                      type: number
                    minItems: 2
                    type: array
                  minItems: 4
                  type: array
                type: array
              type: array
            type:
              enum:
                - MultiPolygon
              type: string
          required:
            - type
            - coordinates
          title: GeoJSON MultiPolygon
          type: object

    Organization:
      description: 'An organization such as a school, NGO, corporation, club, etc, mapped from schema.org'
      x-lb-terms:
        enabled: true
      x-ngsi:
        uri: https://smartdatamodels.org/dataModel.Organization/Organization
        uri-prefix: https://smartdatamodels.org/dataModel.Organization/
      properties:
        address:
          $ref: "#/components/schemas/PostalAddress"
        aggregateRating:
          description: 'The average rating based on multiple ratings or reviews. Privacy:''low'''
          properties:
            itemReviewed:
              anyOf:
                - description: Property. Identifier format of any NGSI entity
                  maxLength: 256
                  minLength: 1
                  pattern: ^[\w\-\.\{\}\$\+\*\[\]`|~^@!,:\\]+$
                  type: string
                - description: Property. Identifier format of any NGSI entity
                  format: uri
                  type: string
              description: 'Relationship. The item that is being reviewed/rated. '
            ratingCount:
              minimum: 0
              type: number
            reviewCount:
              minimum: 0
              type: number
          type: object
          x-ngsi:
            uri: https://smartdatamodels.org/dataModel.Organization/aggregateRating
            uri-prefix: https://schema.org/
            type: Property
        alternateName:
          description: An alternative name for this item
          type: string
          x-ngsi:
            uri: https://smartdatamodels.org/alternateName
            type: Property
        areaServed:
          description: The geographic area where a service or offered item is provided
          type: string
          x-ngsi:
            uri: https://smartdatamodels.org/areaServed
            model: https://schema.org/Text
            type: Property
        author:
          description: The author of this content or rating. Please note that author is special in that HTML 5 provides a special mechanism for indicating authorship via the rel tag. That is equivalent to this and may be used interchangeably.
          format: uri
          type: string
          x-ngsi:
            uri: https://smartdatamodels.org/dataModel.Organization/author
            model: https://schema.org/URL
            type: Relationship
        bestRating:
          description: 'The highest value allowed in this rating system. If bestRating is omitted, 5 is assumed. '
          type: number
          x-ngsi:
            uri: https://smartdatamodels.org/dataModel.Organization/bestRating
            model: https://schema.org/Number
            type: Property
        dataProvider:
          description: A sequence of characters identifying the provider of the harmonised data entity.
          type: string
          x-ngsi:
            uri: https://smartdatamodels.org/dataProvider
            type: Property
        dateCreated:
          description: Entity creation timestamp. This will usually be allocated by the storage platform.
          format: date-time
          type: string
          x-ngsi:
            uri: https://smartdatamodels.org/dateCreated
            type: Property
        dateModified:
          description: Timestamp of the last modification of the entity. This will usually be allocated by the storage platform.
          format: date-time
          type: string
          x-ngsi:
            uri: https://smartdatamodels.org/dateModified
            type: Property
        description:
          description: A description of this item
          type: string
          x-ngsi:
            uri: http://purl.org/dc/terms/description
            type: Property
        id:
          anyOf: &organization_-_properties_-_owner_-_items_-_anyof
            - description: Property. Identifier format of any NGSI entity
              maxLength: 256
              minLength: 1
              pattern: ^[\w\-\.\{\}\$\+\*\[\]`|~^@!,:\\]+$
              type: string
            - description: Property. Identifier format of any NGSI entity
              format: uri
              type: string
          description: Unique identifier of the entity
          x-ngsi:
            type: Property
        legalName:
          description: 'The official name of the organization, e.g. the registered company name.'
          type: string
          x-ngsi:
            uri: https://smartdatamodels.org/dataModel.Organization/legalName
            model: https://schema.org/legalName
            type: Property
        location:
          $ref: "#/components/schemas/Location"
        name:
          description: The name of this item.
          type: string
          x-ngsi:
            uri: https://smartdatamodels.org/name
            type: Property
        owner:
          description: A List containing a JSON encoded sequence of characters referencing the unique Ids of the owner(s)
          items:
            anyOf: *organization_-_properties_-_owner_-_items_-_anyof
            description: Property. Unique identifier of the entity
          type: array
          x-ngsi:
            uri: https://smartdatamodels.org/owner
            type: Property
        reviewAspect:
          description: This Review or Rating is relevant to this part or facet of the itemReviewed
          type: string
          x-ngsi:
            uri: https://smartdatamodels.org/dataModel.Organization/reviewAspect
            model: https://schema.org/Text
            type: Property
        source:
          description: 'A sequence of characters giving the original source of the entity data as a URL. Recommended to be the fully qualified domain name of the source provider, or the URL to the source object.'
          type: string
          x-ngsi:
            uri: https://smartdatamodels.org/source
            type: Property
        taxID:
          description: 'The Tax / Fiscal ID of the organization or person, e.g. the TIN in the US or the CIF/NIF in Spain.'
          type: string
          x-ngsi:
            uri: https://smartdatamodels.org/dataModel.Organization/taxID
            model: https://schema.org/taxID
            type: Property
        type:
          description: NGSI entity type. It has to be Organization
          enum:
            - Organization
          type: string
          x-ngsi:
            type: Property
        url:
          description: URL which provides a description or further information about this item.
          format: uri
          type: string
          x-ngsi:
            uri: https://smartdatamodels.org/dataModel.Organization/url
            type: Property
        headOffice:
          description: Relationship to the head office Building of the organization.
          format: uri
          type: string
          x-lb-terms:
            enabled: true
          x-ngsi:
            uri: https://live-buildings.github.io/data-model/terms#hasHeadOffice
            uri-prefix: https://live-buildings.github.io/data-model/terms#
            model: https://schema.org/URL
            type: Relationship

      required:
        - id
        - type
      type: object
      x-derived-from: https://smartdatamodels.org/dataModel.Organization/Organization
      x-license-url: https://creativecommons.org/licenses/by/4.0/

    Site:
      description: A part of the physical world or a virtual world that is inherently both located in this world and having a 3D spatial extent. It is intended to contain or contains one or more buildings.
      x-lb-terms:
        enabled: true
      x-ngsi:
        uri: https://w3id.org/bot#Site
      x-derived-from: https://smartdatamodels.org/dataModel.Building/Building
      x-license-url: https://creativecommons.org/licenses/by/4.0/
      allOf:
        - $ref: '#/components/schemas/Zone'
        - type: object
          required:
            - type
            - id
          properties:
            id:
              anyOf: &anyof
                - description: Property. Identifier format of any NGSI entity
                  maxLength: 256
                  minLength: 1
                  pattern: ^[\w\-\.\{\}\$\+\*\[\]`|~^@!,:\\]+$
                  type: string
                - description: Property. Identifier format of any NGSI entity
                  format: uri
                  type: string
              description: Unique identifier of the entity
              x-ngsi:
                type: Property
            type:
              description: NGSI Entity type
              enum:
                - Site
              type: string
              x-ngsi:
                type: Property
            shortId:
              description: A short id of this item. Typically an UID that uniquely identifies this item among all items of same type.
              type: string
              x-lb-terms:
                enabled: true
              x-ngsi:
                type: Property
                uri: https://live-buildings.github.io/data-model/terms#shortId
                uri-prefix: https://live-buildings.github.io/data-model/terms#
            name:
              description: The name of this item.
              type: string
              x-ngsi:
                type: Property
                uri: https://smartdatamodels.org/name
            shortName:
              description: A short name for this item. Typically for display purpose.
              type: string
              x-lb-terms:
                enabled: true
              x-ngsi:
                type: Property
                uri: https://live-buildings.github.io/data-model/terms#shortName
                uri-prefix: https://live-buildings.github.io/data-model/terms#
            alternateName:
              description: An alternative name for this item
              type: string
              x-ngsi:
                uri: https://schema.org/alternateName
                type: Property
            category:
              description: 'Category of the item. Enum:''commercial, industrial, office, parking, residential, retail, service, technical, warehouse'''
              items:
                enum:
                  - commercial
                  - industrial
                  - office
                  - parking
                  - residential
                  - retail
                  - service
                  - technical
                  - warehouse
                type: string
              type: array
              x-ngsi:
                type: Property
                uri: https://smart-data-models.github.io/data-models/terms.jsonld#/definitions/category
            address:
              $ref: "#/components/schemas/PostalAddress"
            containedIn:
              $ref: "#/components/schemas/ContainedIn"
            location:
              $ref: "#/components/schemas/Location"
            areaServed:
              description: The geographic area where a service or offered item is provided
              type: string
              x-ngsi:
                model: https://schema.org/Text
                type: Property
                uri: https://schema.org/areaServed
            dataProvider:
              description: A sequence of characters identifying the provider of the harmonised data entity.
              type: string
              x-ngsi:
                type: Property
                uri: https://smart-data-models.github.io/data-models/terms.jsonld#/definitions/dataProvider
            description:
              description: A description of this item
              type: string
              x-ngsi:
                type: Property
                uri: http://purl.org/dc/terms/description
            openingHours:
              description: Opening hours of this place.
              items:
                type: string
              type: array
              x-ngsi:
                model: https://schema.org/openingHours
                type: Property
                uri: https://schema.org/openingHours
            owner:
              description: A List containing a JSON encoded sequence of characters referencing the unique Ids of the owner(s)
              items:
                anyOf: *anyof
                description: Property. Unique identifier of the entity
              type: array
              x-ngsi:
                type: Property
                uri: https://smart-data-models.github.io/data-models/terms.jsonld#/definitions/owner
            occupier:
              description: Person or entity using the place.
              items:
                anyOf: *anyof
                description: Property. Unique identifier of the entity
              type: array
              x-ngsi:
                type: Property
                uri: https://smart-data-models.github.io/data-models/terms.jsonld#/definitions/occupier
            peopleCapacity:
              description: Allowed people present at the place.
              minimum: 0
              type: number
              x-ngsi:
                model: https://schema.org/Number
                type: Property
                uri: https://smartdatamodels.org/dataModel.Building/peopleCapacity
            employeeCount:
              description: Number of employees attached to this place.
              minimum: 0
              type: number
              x-lb-terms:
                enabled: true
              x-ngsi:
                model: https://schema.org/Number
                type: Property
                uri: https://live-buildings.github.io/data-model/terms#employeeCount
                uri-prefix: https://live-buildings.github.io/data-model/terms#
            individualWorkstationCount:
              description: Number of individual workstations available in this place. An individual workstation is a workstation assigned or dedicated to a particular person.
              minimum: 0
              type: number
              x-lb-terms:
                enabled: true
              x-ngsi:
                model: https://schema.org/Number
                type: Property
                uri: https://live-buildings.github.io/data-model/terms#individualWorkstationCount
                uri-prefix: https://live-buildings.github.io/data-model/terms#
            flexWorkstationCount:
              description: Number of flex workstations available in this place. A flex workstation is a workstation that is not assigned or dedicated to a particular person, and can be used alternatively by different people.
              minimum: 0
              type: number
              x-lb-terms:
                enabled: true
              x-ngsi:
                model: https://schema.org/Number
                type: Property
                uri: https://live-buildings.github.io/data-model/terms#flexWorkstationCount
                uri-prefix: https://live-buildings.github.io/data-model/terms#
            peopleOccupancy:
              description: People present at the place.
              minimum: 0
              type: number
              x-ngsi:
                model: https://schema.org/Number
                type: Property
                uri: https://smartdatamodels.org/dataModel.Building/peopleOccupancy
            refMap:
              anyOf:
                - description: Property. Identifier format of any NGSI entity
                  maxLength: 256
                  minLength: 1
                  pattern: ^[\w\-\.\{\}\$\+\*\[\]`|~^@!,:\\]+$
                  type: string
                - description: Property. Identifier format of any NGSI entity
                  format: uri
                  type: string
              description: Reference to the map containing the item.
              x-ngsi:
                type: Relationship
                uri: https://smart-data-models.github.io/data-models/terms.jsonld#/definitions/refMap
            source:
              description: 'A sequence of characters giving the original source of the entity data as a URL. Recommended to be the fully qualified domain name of the source provider, or the URL to the source object.'
              type: string
              x-ngsi:
                type: Property
                uri: https://smart-data-models.github.io/data-models/terms.jsonld#/definitions/source

    Building:
      description: Information on a given Building
      x-lb-terms:
        enabled: true
      x-ngsi:
        uri: https://smartdatamodels.org/dataModel.Building/Building
        uri-prefix: https://smartdatamodels.org/dataModel.Building/
      properties:
        id:
          anyOf: &anyof
            - description: Property. Identifier format of any NGSI entity
              maxLength: 256
              minLength: 1
              pattern: ^[\w\-\.\{\}\$\+\*\[\]`|~^@!,:\\]+$
              type: string
            - description: Property. Identifier format of any NGSI entity
              format: uri
              type: string
          description: Unique identifier of the entity
          x-ngsi:
            type: Property
        type:
          description: NGSI Entity type
          enum:
            - Building
          type: string
          x-ngsi:
            type: Property
        shortId:
          description: A short id of this item. Typically an UID that uniquely identifies this item among all items of same type.
          type: string
          x-lb-terms:
            enabled: true
          x-ngsi:
            type: Property
            uri: https://live-buildings.github.io/data-model/terms#shortId
            uri-prefix: https://live-buildings.github.io/data-model/terms#
        name:
          description: The name of this item.
          type: string
          x-ngsi:
            type: Property
            uri: https://smartdatamodels.org/name
        shortName:
          description: A short name for this item. Typically for display purpose.
          type: string
          x-lb-terms:
            enabled: true
          x-ngsi:
            type: Property
            uri: https://live-buildings.github.io/data-model/terms#shortName
            uri-prefix: https://live-buildings.github.io/data-model/terms#
        alternateName:
          description: An alternative name for this item
          type: string
          x-ngsi:
            uri: https://schema.org/alternateName
            type: Property
        category:
          description: 'Category of the item. Enum:''commercial, industrial, office, parking, residential, retail, service, technical, warehouse'''
          items:
            enum:
              - commercial
              - industrial
              - office
              - parking
              - residential
              - retail
              - service
              - technical
              - warehouse
            type: string
          type: array
          x-ngsi:
            type: Property
            uri: https://smart-data-models.github.io/data-models/terms.jsonld#/definitions/category
        address:
          $ref: "#/components/schemas/PostalAddress"
        containedIn:
          $ref: "#/components/schemas/ContainedIn"
        location:
          $ref: "#/components/schemas/Location"
        areaServed:
          description: The geographic area where a service or offered item is provided
          type: string
          x-ngsi:
            model: https://schema.org/Text
            type: Property
            uri: https://schema.org/areaServed
        dataProvider:
          description: A sequence of characters identifying the provider of the harmonised data entity.
          type: string
          x-ngsi:
            type: Property
            uri: https://smart-data-models.github.io/data-models/terms.jsonld#/definitions/dataProvider
        description:
          description: A description of this item
          type: string
          x-ngsi:
            type: Property
            uri: http://purl.org/dc/terms/description
        openingHours:
          description: Opening hours of this place.
          items:
            type: string
          type: array
          x-ngsi:
            model: https://schema.org/openingHours
            type: Property
            uri: https://schema.org/openingHours
        owner:
          description: A List containing a JSON encoded sequence of characters referencing the unique Ids of the owner(s)
          items:
            anyOf: *anyof
            description: Property. Unique identifier of the entity
          type: array
          x-ngsi:
            type: Property
            uri: https://smart-data-models.github.io/data-models/terms.jsonld#/definitions/owner
        occupier:
          description: Person or entity using the place.
          items:
            anyOf: *anyof
            description: Property. Unique identifier of the entity
          type: array
          x-ngsi:
            type: Property
            uri: https://smart-data-models.github.io/data-models/terms.jsonld#/definitions/occupier
        peopleCapacity:
          description: Allowed people present at the place
          minimum: 0
          type: number
          x-ngsi:
            model: https://schema.org/Number
            type: Property
            uri: https://smartdatamodels.org/dataModel.Building/peopleCapacity
        employeeCount:
          description: Number of employees attached to this place.
          minimum: 0
          type: number
          x-lb-terms:
            enabled: true
          x-ngsi:
            model: https://schema.org/Number
            type: Property
            uri: https://live-buildings.github.io/data-model/terms#employeeCount
            uri-prefix: https://live-buildings.github.io/data-model/terms#
        individualWorkstationCount:
          description: Number of individual workstations available in this place. An individual workstation is a workstation assigned or dedicated to a particular person.
          minimum: 0
          type: number
          x-lb-terms:
            enabled: true
          x-ngsi:
            model: https://schema.org/Number
            type: Property
            uri: https://live-buildings.github.io/data-model/terms#individualWorkstationCount
            uri-prefix: https://live-buildings.github.io/data-model/terms#
        flexWorkstationCount:
          description: Number of flex workstations available in this place. A flex workstation is a workstation that is not assigned or dedicated to a particular person, and can be used alternatively by different people.
          minimum: 0
          type: number
          x-lb-terms:
            enabled: true
          x-ngsi:
            model: https://schema.org/Number
            type: Property
            uri: https://live-buildings.github.io/data-model/terms#flexWorkstationCount
            uri-prefix: https://live-buildings.github.io/data-model/terms#
        peopleOccupancy:
          description: People present at the place
          minimum: 0
          type: number
          x-ngsi:
            model: https://schema.org/Number
            type: Property
            uri: https://smartdatamodels.org/dataModel.Building/peopleOccupancy
        refMap:
          anyOf:
            - description: Property. Identifier format of any NGSI entity
              maxLength: 256
              minLength: 1
              pattern: ^[\w\-\.\{\}\$\+\*\[\]`|~^@!,:\\]+$
              type: string
            - description: Property. Identifier format of any NGSI entity
              format: uri
              type: string
          description: Reference to the map containing the building
          x-ngsi:
            type: Relationship
            uri: https://smart-data-models.github.io/data-models/terms.jsonld#/definitions/refMap
        source:
          description: 'A sequence of characters giving the original source of the entity data as a URL. Recommended to be the fully qualified domain name of the source provider, or the URL to the source object.'
          type: string
          x-ngsi:
            type: Property
            uri: https://smart-data-models.github.io/data-models/terms.jsonld#/definitions/source
        floorsAboveGround:
          description: Floors above the ground level
          type: number
          x-ngsi:
            model: https://schema.org/Number
            type: Property
            uri: https://smart-data-models.github.io/data-models/terms.jsonld#/definitions/floorsAboveGround
        floorsBelowGround:
          description: Floors below the ground level
          type: number
          x-ngsi:
            model: https://schema.org/Number
            type: Property
            uri: https://smart-data-models.github.io/data-models/terms.jsonld#/definitions/floorsBelowGround
      required:
        - type
        - id
      type: object
      x-derived-from: https://smartdatamodels.org/dataModel.Building/Building
      x-license-url: https://creativecommons.org/licenses/by/4.0/

    Storey:
      description: 'A part of the physical world or a virtual world that is inherently both located in this world and having a 3D spatial extent. A bot:Storey is contained in one or more buildings, and is intended to contain one or more spaces that are horizontally connected. Storeys of a building are connected by means of vertical connections such as elevators and stairs. A bot:Storey encompasses both zones above and below ground, for example, a building with 21 floors above ground, one ground floor and 3 basements is equal to the sentence: A building has 25 instances of bot:Storey.'
      x-lb-terms:
        enabled: true
      x-ngsi:
        uri: https://w3id.org/bot#Storey
      properties:
        id:
          anyOf: &anyof
            - description: Property. Identifier format of any NGSI entity
              maxLength: 256
              minLength: 1
              pattern: ^[\w\-\.\{\}\$\+\*\[\]`|~^@!,:\\]+$
              type: string
            - description: Property. Identifier format of any NGSI entity
              format: uri
              type: string
          description: Unique identifier of the entity
          x-ngsi:
            type: Property
        type:
          description: NGSI Entity type
          enum:
            - Storey
          type: string
          x-ngsi:
            type: Property
        shortId:
          description: A short id of this item. Typically an UID that uniquely identifies this item among all items of same type.
          type: string
          x-lb-terms:
            enabled: true
          x-ngsi:
            type: Property
            uri: https://live-buildings.github.io/data-model/terms#shortId
            uri-prefix: https://live-buildings.github.io/data-model/terms#
        name:
          description: The name of this item.
          type: string
          x-ngsi:
            type: Property
            uri: https://smartdatamodels.org/name
        shortName:
          description: A short name for this item. Typically for display purpose.
          type: string
          x-lb-terms:
            enabled: true
          x-ngsi:
            type: Property
            uri: https://live-buildings.github.io/data-model/terms#shortName
            uri-prefix: https://live-buildings.github.io/data-model/terms#
        alternateName:
          description: An alternative name for this item
          type: string
          x-ngsi:
            uri: https://schema.org/alternateName
            type: Property
        category:
          description: 'Category of the item. Enum:''commercial, industrial, office, parking, residential, retail, service, technical, warehouse'''
          items:
            enum:
              - commercial
              - industrial
              - office
              - parking
              - residential
              - retail
              - service
              - technical
              - warehouse
            type: string
          type: array
          x-ngsi:
            type: Property
            uri: https://smart-data-models.github.io/data-models/terms.jsonld#/definitions/category
        address:
          $ref: "#/components/schemas/PostalAddress"
        containedIn:
          $ref: "#/components/schemas/ContainedIn"
        location:
          $ref: "#/components/schemas/Location"
        areaServed:
          description: The geographic area where a service or offered item is provided
          type: string
          x-ngsi:
            model: https://schema.org/Text
            type: Property
            uri: https://schema.org/areaServed
        dataProvider:
          description: A sequence of characters identifying the provider of the harmonised data entity.
          type: string
          x-ngsi:
            type: Property
            uri: https://smart-data-models.github.io/data-models/terms.jsonld#/definitions/dataProvider
        description:
          description: A description of this item
          type: string
          x-ngsi:
            type: Property
            uri: http://purl.org/dc/terms/description
        openingHours:
          description: Opening hours of this place.
          items:
            type: string
          type: array
          x-ngsi:
            model: https://schema.org/openingHours
            type: Property
            uri: https://schema.org/openingHours
        owner:
          description: A List containing a JSON encoded sequence of characters referencing the unique Ids of the owner(s)
          items:
            anyOf: *anyof
            description: Property. Unique identifier of the entity
          type: array
          x-ngsi:
            type: Property
            uri: https://smart-data-models.github.io/data-models/terms.jsonld#/definitions/owner
        occupier:
          description: Person or entity using the place.
          items:
            anyOf: *anyof
            description: Property. Unique identifier of the entity
          type: array
          x-ngsi:
            type: Property
            uri: https://smart-data-models.github.io/data-models/terms.jsonld#/definitions/occupier
        peopleCapacity:
          description: Allowed people present at the place
          minimum: 0
          type: number
          x-ngsi:
            model: https://schema.org/Number
            type: Property
            uri: https://smartdatamodels.org/dataModel.Building/peopleCapacity
        employeeCount:
          description: Number of employees attached to this place.
          minimum: 0
          type: number
          x-lb-terms:
            enabled: true
          x-ngsi:
            model: https://schema.org/Number
            type: Property
            uri: https://live-buildings.github.io/data-model/terms#employeeCount
            uri-prefix: https://live-buildings.github.io/data-model/terms#
        individualWorkstationCount:
          description: Number of individual workstations available in this place. An individual workstation is a workstation assigned or dedicated to a particular person.
          minimum: 0
          type: number
          x-lb-terms:
            enabled: true
          x-ngsi:
            model: https://schema.org/Number
            type: Property
            uri: https://live-buildings.github.io/data-model/terms#individualWorkstationCount
            uri-prefix: https://live-buildings.github.io/data-model/terms#
        flexWorkstationCount:
          description: Number of flex workstations available in this place. A flex workstation is a workstation that is not assigned or dedicated to a particular person, and can be used alternatively by different people.
          minimum: 0
          type: number
          x-lb-terms:
            enabled: true
          x-ngsi:
            model: https://schema.org/Number
            type: Property
            uri: https://live-buildings.github.io/data-model/terms#flexWorkstationCount
            uri-prefix: https://live-buildings.github.io/data-model/terms#
        peopleOccupancy:
          description: People present at the place
          minimum: 0
          type: number
          x-ngsi:
            model: https://schema.org/Number
            type: Property
            uri: https://smartdatamodels.org/dataModel.Building/peopleOccupancy
        refMap:
          anyOf:
            - description: Property. Identifier format of any NGSI entity
              maxLength: 256
              minLength: 1
              pattern: ^[\w\-\.\{\}\$\+\*\[\]`|~^@!,:\\]+$
              type: string
            - description: Property. Identifier format of any NGSI entity
              format: uri
              type: string
          description: Reference to the map containing the building
          x-ngsi:
            type: Relationship
            uri: https://smart-data-models.github.io/data-models/terms.jsonld#/definitions/refMap
        source:
          description: 'A sequence of characters giving the original source of the entity data as a URL. Recommended to be the fully qualified domain name of the source provider, or the URL to the source object.'
          type: string
          x-ngsi:
            type: Property
            uri: https://smart-data-models.github.io/data-models/terms.jsonld#/definitions/source
      required:
        - type
        - id
      type: object
      x-derived-from: https://smartdatamodels.org/dataModel.Building/Building
      x-license-url: https://creativecommons.org/licenses/by/4.0/

paths:
  /ngsi-ld/v1/entities:
    get:
      description: "Retrieve a set of entities which matches a specific query from an NGSI-LD system"
      parameters:
        - in: query
          name: type
          required: true
          schema:
            enum:
              - Organization
            type: string
      responses:
        "200":
          content:
            application/ld+json:
              examples:
                keyvalues:
                  summary: "Key-Values Pairs"
                  value:
                normalized:
                  summary: "Normalized NGSI-LD"
                  value:
          description: OK
      tags:
        - ngsi-ld
tags:
  - description: "NGSI-LD Linked-data Format"
    name: ngsi-ld